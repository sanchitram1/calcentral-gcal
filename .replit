run = ["uvicorn", "main:app", "--host", "0.0.0.0", "--reload"]
modules = ["python-3.13"]

[nix]
channel = "stable-23_05"
packages = [
  "freetype",
  "lcms2",
  "libGL",
  "libGLU",
  "libimagequant",
  "libjpeg",
  "libtiff",
  "libwebp",
  "libxcrypt",
  "openjpeg",
  "tcl",
  "tesseract",
  "tk",
  "zlib",
]

[deployment]
run = ["sh", "-c", "docker run calcentral-gcal"]
build = ["sh", "-c", "docker build -t calcentral-gcal ."]

[[ports]]
localPort = 80
externalPort = 80
